# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ TimeWheel (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–Ω–∞—è)

## –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
app/
‚îú‚îÄ‚îÄ App.tsx                          # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (50 —Å—Ç—Ä–æ–∫)
‚îÇ
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                     # TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ
‚îú‚îÄ‚îÄ constants/
‚îÇ   ‚îî‚îÄ‚îÄ theme.ts                     # –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä—ã, –∫–ª—é—á–∏)
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ timeUtils.ts                 # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –≤—Ä–µ–º–µ–Ω–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ storageUtils.ts              # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å AsyncStorage
‚îÇ   ‚îî‚îÄ‚îÄ mockData.ts                  # Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ useTaskManager.ts            # –ì–ª–∞–≤–Ω—ã–π —Ö—É–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îÇ
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ DaySelector.tsx              # –í—ã–±–æ—Ä –¥–Ω—è –Ω–µ–¥–µ–ª–∏
    ‚îú‚îÄ‚îÄ ClockView.tsx                # –¶–∏—Ñ–µ—Ä–±–ª–∞—Ç –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ TaskListView.tsx             # –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–Ω—è
    ‚îú‚îÄ‚îÄ StatsBar.tsx                 # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    ‚îú‚îÄ‚îÄ StorageErrorBanner.tsx       # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö
    ‚îÇ
    ‚îî‚îÄ‚îÄ TaskModal/
        ‚îú‚îÄ‚îÄ SwipeableTaskModal.tsx   # –ì–ª–∞–≤–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        ‚îî‚îÄ‚îÄ InlineTimePicker.tsx     # –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏
```

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1Ô∏è‚É£ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ App –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (400 —Å—Ç—Ä–æ–∫ ‚Üí 50 —Å—Ç—Ä–æ–∫)

**–ë—ã–ª–æ:**
```typescript
export default function App() {
  const [currentTime, setCurrentTime] = useState(new Date());
  const [selectedDayId, setSelectedDayId] = useState(getCurrentDayId());
  const [days, setDays] = useState<Day[]>(mockDays);
  // ... –µ—â—ë 10 —Å–æ—Å—Ç–æ—è–Ω–∏–π
  // ... 200 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∏–∫–∏
  // ... 150 —Å—Ç—Ä–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∞
}
```

**–°—Ç–∞–ª–æ:**
```typescript
export default function App() {
  const { /* –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ useTaskManager */ } = useTaskManager();
  const [modalVisible, setModalVisible] = useState(false);
  // ... –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ 50 —Å—Ç—Ä–æ–∫)
}
```

### 2Ô∏è‚É£ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ë—ã–ª–æ:**
```typescript
const handleAddTask = useCallback(async () => {
  // ...
  const updatedDays = days.map(/* ... */);
  setDays(updatedDays);
}, [formData, selectedDayId, days, closeModal]); // –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 'days' ‚ùå
```

**–°—Ç–∞–ª–æ:**
```typescript
const addTask = useCallback(async (formData: FormData) => {
  // ...
  setDays((prevDays) => {
    const updated = prevDays.map(/* ... */);
    saveDaysToStorage(updated);
    return updated;
  });
}, [selectedDayId]); // —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚úÖ
```

### 3Ô∏è‚É£ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–æ–º

```typescript
useEffect(() => {
  if (appState !== 'active') {
    if (timerRef.current) {
      clearInterval(timerRef.current);
      timerRef.current = null;
    }
    return;
  }

  timerRef.current = setInterval(() => {
    setCurrentTime(new Date());
  }, 1000);

  return () => {
    if (timerRef.current) {
      clearInterval(timerRef.current);
      timerRef.current = null;
    }
  };
}, [appState]); // –û—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ unmount ‚úÖ
```

### 4Ô∏è‚É£ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ AsyncStorage

```typescript
const loadDaysFromStorageWrapper = useCallback(async () => {
  try {
    const loaded = await loadDaysFromStorage();
    setDays(loaded);
    setStorageError(null);
  } catch (error) {
    const message = error instanceof StorageError ? error.message : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞';
    setStorageError(message); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚úÖ
    setDays(mockDays);
  }
}, []);
```

### 5Ô∏è‚É£ –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è Time Picker

**–ë—ã–ª–æ:**
```typescript
{Array.from({ length: 24 }, (_, i) => (
  <TouchableOpacity key={`h-${i}`}>
    {/* ... */}
  </TouchableOpacity>
))}
// 24 + 60 = 84 —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ ScrollView ‚ùå
```

**–°—Ç–∞–ª–æ:**
```typescript
<FlatList
  data={hourData}
  windowSize={5}
  renderItem={/* ... */}
  scrollEnabled={true}
  nestedScrollEnabled={true}
/>
// –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –≤–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚úÖ
```

### 6Ô∏è‚É£ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–º–µ—Å—Ç–æ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª

**–ë—ã–ª–æ:**
```typescript
const CLOCK_RADIUS = SCREEN_WIDTH * 0.35;      // –ü–æ—á–µ–º—É 0.35?
const CENTER_Y = SCREEN_WIDTH / 2 + 50;        // –ü–æ—á–µ–º—É + 50?
const angleRad = (startAngle - 90) * (Math.PI / 180); // -90 –¥–ª—è —á–µ–≥–æ?
```

**–°—Ç–∞–ª–æ:**
```typescript
// constants/theme.ts
/** –†–∞–¥–∏—É—Å —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–∞ ‚Äî 35% –æ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è */
export const CLOCK_RADIUS = SCREEN_WIDTH * 0.35;

/** –°–º–µ—â–µ–Ω–∏–µ —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–∞ –≤–Ω–∏–∑ –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º */
export const CLOCK_CENTER_OFFSET = 50;

/** SVG –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —É–≥–ª–∞ 0¬∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ø—Ä–∞–≤–∞, –ø–æ—ç—Ç–æ–º—É –≤—ã—á–∏—Ç–∞–µ–º 90¬∞ –¥–ª—è –≤–µ—Ä—Ö–Ω–µ–π –ø–æ–∑–∏—Ü–∏–∏ */
export const ANGLE_TOP = -90;
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install uuid
npm install react-native-async-storage
npm install react-native-svg
```

### –ó–∞–º–µ–Ω–∞ App.tsx

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º–ø–æ—Ä—Ç—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏
3. –ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–π App.tsx –Ω–∞ –Ω–æ–≤—ã–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```bash
src/
‚îú‚îÄ‚îÄ types/
‚îú‚îÄ‚îÄ constants/
‚îú‚îÄ‚îÄ utils/
‚îú‚îÄ‚îÄ hooks/
‚îú‚îÄ‚îÄ components/
‚îî‚îÄ‚îÄ App.tsx
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ

| –ê—Å–ø–µ–∫—Ç | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|--------|------|-------|
| **–†–∞–∑–º–µ—Ä App.tsx** | 400+ —Å—Ç—Ä–æ–∫ | 50 —Å—Ç—Ä–æ–∫ |
| **–°–æ—Å—Ç–æ—è–Ω–∏—è –≤ App** | 7 | 2 |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ useCallback** | –ú–Ω–æ–≥–æ | –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** | –¢–æ–ª—å–∫–æ console.error | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–æ–º** | –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —É—Ç–µ—á–∫–∏ | –ß–∏—Å—Ç–∞—è –æ—á–∏—Å—Ç–∫–∞ |
| **Time Picker —ç–ª–µ–º–µ–Ω—Ç—ã** | 84 –≤ ScrollView | 5 –≤ FlatList (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ) |
| **–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞** | –í–µ–∑–¥–µ | –í—Å–µ –≤ constants/theme.ts |
| **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è (–ª–æ–≥–∏–∫–∞ –≤ —Ö—É–∫–∞—Ö/utils) |

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (—Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å)
- [x] –†–∞–∑–¥–µ–ª–∏—Ç—å App –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ setDays
- [x] –î–æ–±–∞–≤–∏—Ç—å uuid –¥–ª—è ID –∑–∞–¥–∞—á
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç selectedDate
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### üü† –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SVG (–æ—Ç–¥–µ–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —Å—Ç—Ä–µ–ª–∫–∏)
- [ ] –î–æ–±–∞–≤–∏—Ç—å Zustand –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å delete –∂–µ—Å—Ç—ã –Ω–∞ Swipeable

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è timeUtils
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã —Å React.memo

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

```bash
# –¢–∏–ø–∏–∑–∞—Ü–∏—è
npm run tsc --noEmit

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run eslint src/

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
npm run react-native run-android -- --dev=false
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **useTaskManager** —Å–æ–¥–µ—Ä–∂–∏—Ç –í–°–Æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É ‚Äî App.tsx —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç
2. **FlatList –≤ InlineTimePicker** –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `windowSize`
3. **–í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ theme.ts** ‚Äî –µ—Å–ª–∏ –Ω—É–∂–µ–Ω —Ü–≤–µ—Ç –∏–ª–∏ —Ä–∞–∑–º–µ—Ä, –±–µ—Ä–∏—Ç–µ –æ—Ç—Ç—É–¥–∞
4. **StorageError** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –æ—à–∏–±–∫–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
5. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ setState** ‚Äî –∏–∑–±–µ–≥–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –ø–æ–ª–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
